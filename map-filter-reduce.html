<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map ~ Filter ~ Reduce</title>
</head>
<body>

<script>

    //~ * Map * ~

    //TODO Together: Let's see a common approach we might have done in the past: our goal is to increase each element of an array by 1 [element + 1], then get an array back with those values

    // var numbers = [1,2,3,4,5,6,7,8,9,10];

    //TODO Together: Now, let's achieve the same result with the first part of our lesson: the MAP method~
    //
    // let numbersAddOneMap = numbers.map(function(num){
    //     return num + 1;
    // })
    //console.log(numbersAddOneMap);
    //TODO Together: Let's get all these restaurant names out of this array of objects with .map()!
    var forecast = [
        { "temp": 65.61, "feels_like": 66.29, "temp_min": 65.61, "temp_max": 68.29, "pressure": 1008, "sea_level": 1008, "grnd_level": 986, "humidity": 94, "temp_kf": -1.49 },

    { "temp": 68.36, "feels_like": 69.17, "temp_min": 68.36, "temp_max": 73.89, "pressure": 1008, "sea_level": 1008, "grnd_level": 985, "humidity": 91, "temp_kf": -3.07 },

    { "temp": 76.95, "feels_like": 77.72, "temp_min": 76.95, "temp_max": 82.62, "pressure": 1006, "sea_level": 1006, "grnd_level": 983, "humidity": 72, "temp_kf": -3.15 },

    { "temp": 81.54, "feels_like": 83.14, "temp_min": 81.54, "temp_max": 81.54, "pressure": 1005, "sea_level": 1005, "grnd_level": 982, "humidity": 56, "temp_kf": 0 },

    { "temp": 65.68, "feels_like": 65.89, "temp_min": 65.68, "temp_max": 65.68, "pressure": 1010, "sea_level": 1010, "grnd_level": 987, "humidity": 84, "temp_kf": 0 }
    ]

    let books = [

        {
            title: "",
            author: "J.K Rowling"
        },

        {
            title: "MacBeth",
            author: "William Shakespeare"
        },

        {
            title: "Seat of the Soul",
            author: "Gary Zukav"
        },

        {
            title: "Romeo and Juliet",
            author: "William Shakespeare"
        },

        {
            title: "Lord of the Rings",
            author: "JR Tolken"
        }
    ]

    let weatherList = forecast.map(function (list){
        return list.temp;
    })

    console.log(weatherList);


    //TODO: Create your own array of (up to 3 and at least 2) restaurant objects building off of the basic list you created during the MapBox exercise (or build one anew!) ~5 mins

    //TODO: Now, having created a personal array of restaurant objects for yourself, use .map() to get your favorite restaurant's names out of that collection, into another array, and out into the console! ~5 mins

    //~ * Filter * ~

    //TODO Together: Once again, let's take a look at the old way we might approach an issue: getting only one type of values out of an array (for example: even numbers only from an array of nums!)

    //TODO Together: Now, let's refactor the above using the ES6 .filter() method with the same goal: even numbers only!

    // let evens = numbers.filter(function (num){
    //     return num % 2 === 0;
    // })
    //
    // console.log(evens);

    //TODO Together: Using my favoriteRestaurants list, let's filter out all of the non-buffet restaurants
    let hasO = books.filter(function (book){
       return book.title.includes("o");
    })

    console.log(hasO);

    //TODO: Each one of your restaurant arrays is unique, but, in that array, identify something to filter by - it could be as simple as "well, let me filter out all of the restaurants with names shorter than 8 characters" or get as complicated as you'd like!

    //TODO: Once you've done the above, go ahead and write the necessary code to achieve what you wanted - remember to practice with .filter() and our ES6 verbiage!

    //~ * Reduce * ~

    //Reduce is an interesting animal in and of itself: it's a way to reduce a collection down to, typically, a single value of some kind:

    //TODO Together: Let's sum up some numbers with the .reduce() method and a number array!

    let numbers = [1,2,3,4,5]

    let sum = numbers.reduce(function (total,num){
        return total + num;
    },0);

    console.log(sum);


    //TODO Together: That's pretty wild, eh! Wonder what else we could get up to with .reduce() - how about we make a function and use .reduce() inside of it? We'll write a function named countWords that takes a sentence in a single string. We need to split that sentence into an array and then write a .reduce() that would let us know how many times each word appeared in the string.

    let stringArr = ["Codeup", "San Antonio", "Dallas", "Marco Cohort", "ES6"];

    let stringLengthObj = stringArr.reduce(function (object, element){
        object[element]= element.length; //assign length as a value to the property named element
        console.log(object[element]);
        return object;
    },{})

    console.log(stringLengthObj);

    //TODO Together: Pretty good, but do we want to count the number of times the comma is involved? If only we had a method that would .filter() - wait! Let's refactor the above function to do just that!

    function countWords(sentence) {
        let words = sentence.split(' '); // transform a sentence into an array of words

        words= words.filter(function (word){
            return word !== ",";
        })

        let wordCountObject = words.reduce((wordCounts, word) => {
            if (typeof wordCounts[word] === 'undefined') {
                // if the word is not yet present in our object, set it's value to 1
                wordCounts[word] = 1;
            } else {
                // otherwise increment the existing count
                wordCounts[word] += 1;
            }
            return wordCounts;
        }, {}); // start with an empty object
        return wordCountObject;
    }

    let sentence = "Mary had a little lamb , little lamb , little lamb";




    console.log(countWords(sentence));
    // {Mary: 1, had: 1, a: 1, little: 3, lamb: 3}

    //TODO: Let's make a new array of objects to use - make an array of objects [{},{},{}] consisting of a number of family members as objects with their name and ages as properties. Use .reduce() to sum up the age of those family members and see what it is! e.g. [{name: "Thurston Howell III", age: 50}, {name: "William Dean Howells", age: 83}] would be 133 by adding those two age properties together (50 + 83).

let family = [
    {name: "Darius Brown",
     age: 26 },
    {name: "Kayla Brown",
     age: 22 },
    {name: "Michael Brown",
     age: 20 },
    ]

    let ageSum = family.reduce(function(total, fam){
        console.log(fam);
        return fam.age + total;
    },0)
    console.log(ageSum);





</script>
</body>
</html>